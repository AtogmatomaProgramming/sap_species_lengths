"/grafico_interactivo_tallas_",
ver,
"_",
fishing_ground,
".html"
)
)
}
lapply(lista_fishing_grounds, function(fg) {
plotter_function(fg, measure_ranges, result_directory, "betha", discarded_sizes)
})
plotter_function <- function(caladero,
measure_ranges,
result_directory,
ver = "alfa",
discarded_sizes = NA){
measure_ranges <- as.data.frame(measure_ranges)
fishing_ground <- as.character(as.vector(caladero))
measure_ranges_filtered <- measure_ranges[measure_ranges$CALADERO == caladero &
measure_ranges$PROCEDENCIA == "IEO",
c("COD_ESP_CAT", "ESP_CAT", "SEXO", "TALLA")]
measure_ranges_filtered <- measure_ranges_filtered[!is.na(measure_ranges_filtered$TALLA), ]
measure_ranges_filtered$ESP_CAT <- paste0(measure_ranges_filtered$ESP_CAT,
"-",
measure_ranges_filtered$SEXO)
if (is.data.frame(discarded_sizes) && nrow(discarded_sizes) > 0) {
#measure_ranges_filtered <- measure_ranges_filtered[-(measure_ranges_filtered$ESP_CAT %in% discarded_sizes$ESP_CAT &
#                                                       measure_ranges_filtered$TALLA %in% discarded_sizes$TALLA), ]
merge_cols <- c("ESP_CAT", "TALLA")
measure_ranges_filtered <- subset(measure_ranges_filtered,
!(paste(measure_ranges_filtered[, merge_cols]) %in%
paste(discarded_sizes[, merge_cols])))
}
plotter_function <- function(caladero,
measure_ranges,
result_directory,
ver = "alfa",
discarded_sizes = NA){
measure_ranges <- as.data.frame(measure_ranges)
fishing_ground <- as.character(as.vector(caladero))
measure_ranges_filtered <- measure_ranges[measure_ranges$CALADERO == caladero &
measure_ranges$PROCEDENCIA == "IEO",
c("COD_ESP_CAT", "ESP_CAT", "SEXO", "TALLA")]
measure_ranges_filtered <- measure_ranges_filtered[!is.na(measure_ranges_filtered$TALLA), ]
measure_ranges_filtered$ESP_CAT <- paste0(measure_ranges_filtered$ESP_CAT,
"-",
measure_ranges_filtered$SEXO)
if (is.data.frame(discarded_sizes) && nrow(discarded_sizes) > 0) {
#measure_ranges_filtered <- measure_ranges_filtered[-(measure_ranges_filtered$ESP_CAT %in% discarded_sizes$ESP_CAT &
#                                                       measure_ranges_filtered$TALLA %in% discarded_sizes$TALLA), ]
merge_cols <- c("ESP_CAT", "TALLA")
measure_ranges_filtered <- subset(measure_ranges_filtered,
!(paste(measure_ranges_filtered[, merge_cols]) %in%
paste(discarded_sizes[, merge_cols])))
}
plot <- ggplot2::ggplot(data = measure_ranges_filtered, aes(x = ESP_CAT, y = TALLA)) +
ggplot2::stat_boxplot(geom = "errorbar", width = 0.5) +
ggplot2::geom_boxplot(fill = "#4271AE", outlier.colour = "red", alpha = 0.9) +
ggplot2::theme(axis.text.x = ggplot2::element_text(angle = 90, vjust = 0.5, hjust = 1)) +
ggplot2::ggtitle(paste0("Distribuci贸n tallas caladero ", fishing_ground))
p <- plotly::ggplotly(plot)
htmlwidgets::saveWidget(
p,
paste0(
getwd(),
"/",
result_directory,
"/grafico_interactivo_tallas_",
ver,
"_",
fishing_ground,
".html"
)
)
}
lapply(lista_fishing_grounds, function(fg) {
plotter_function(fg, measure_ranges, result_directory, "betha", discarded_sizes)
})
data_source <- paste0(getwd(), "/data/")
result_directory <- "results"
measure_ranges <- readRDS(paste0(data_source,
"rim_lengths_2019_2023.rds"))
fishing_environment <- read.table(file = paste0(data_source,"caladero.csv"),
head = TRUE,
sep = ";",
fill = TRUE,
colClasses = c("character", "factor", "character"))
#### b) Add the variable "CALADERO" to the "measure_ranges" df ####
measure_ranges <- merge(measure_ranges,
fishing_environment[, c("CALADERO", "COD_ORIGEN")],
by = "COD_ORIGEN",
all.x = TRUE)
measure_ranges_filtered <- measure_ranges[measure_ranges$CALADERO == "AC" &
measure_ranges$PROCEDENCIA == "IEO",
c("COD_ESP_CAT", "ESP_CAT", "SEXO", "TALLA")]
measure_ranges_filtered <- measure_ranges_filtered[!is.na(measure_ranges_filtered$TALLA), ]
measure_ranges_filtered <- measure_ranges_filtered |>
dplyr::group_by(ESP_CAT, SEXO, TALLA) |>
dplyr::mutate(TOTAL_TALLAS = dplyr::n_distinct())
measure_ranges_filtered <- measure_ranges_filtered |>
dplyr::group_by(ESP_CAT, SEXO, TALLA) |>
dplyr::mutate(TOTAL_TALLAS = dplyr::n_distinct(TALLA))
View(measure_ranges_filtered)
measure_ranges_filtered <- measure_ranges_filtered |>
dplyr::group_by(ESP_CAT, SEXO, TALLA) |>
dplyr::mutate(TOTAL_TALLAS = dplyr::n_distinct(ESP_CAT))
measure_ranges_filtered <- measure_ranges_filtered |>
dplyr::group_by(ESP_CAT, SEXO) |>
dplyr::mutate(TOTAL_TALLAS = dplyr::n_distinct(ESP_CAT))
measure_ranges_filtered <- measure_ranges_filtered |>
dplyr::group_by(ESP_CAT, SEXO) |>
dplyr::mutate(TOTAL_TALLAS = dplyr::n_distinct(ESP_CAT, SEXO))
measure_ranges_filtered <- measure_ranges_filtered |>
dplyr::group_by(ESP_CAT) |>
dplyr::mutate(TOTAL_TALLAS = dplyr::n_distinct(ESP_CAT))
measure_ranges_filtered <- measure_ranges_filtered |>
dplyr::group_by(ESP_CAT, SEXO) |>
dplyr::mutate(TOTAL_TALLAS = dplyr::n_distinct(TALLA))
measure_ranges_filtered <- measure_ranges_filtered |>
dplyr::group_by(ESP_CAT, SEXO) |>
dplyr::mutate(TOTAL_TALLAS = dplyr::n_distinct(TALLA)) |>
measure_ranges_filtered_one_centimeter <- measure_ranges_filtered[measure_ranges_filtered$TOTAL_TALLAS == 1,
c("ESP_cAT", "TOTAL_TALLAS")]
measure_ranges_filtered <- measure_ranges_filtered |>
dplyr::group_by(ESP_CAT, SEXO) |>
dplyr::mutate(TOTAL_TALLAS = dplyr::n_distinct(TALLA)) |>
measure_ranges_filtered_one_centimeter <- measure_ranges_filtered[measure_ranges_filtered$TOTAL_TALLAS = 1,
measure_ranges_filtered <- measure_ranges_filtered |>
dplyr::group_by(ESP_CAT, SEXO) |>
dplyr::mutate(TOTAL_TALLAS = dplyr::n_distinct(TALLA)) |>
measure_ranges_filtered_one_centimeter <- measure_ranges_filtered[measure_ranges_filtered$TOTAL_TALLAS == 1,
c("ESP_cAT", "TOTAL_TALLAS")]
measure_ranges_filtered <- measure_ranges_filtered |>
dplyr::group_by(ESP_CAT, SEXO) |>
dplyr::mutate(TOTAL_TALLAS = dplyr::n_distinct(TALLA)) |>
measure_ranges_filtered_one_centimeter <- measure_ranges_filtered[measure_ranges_filtered$TOTAL_TALLAS == 1,
]
measure_ranges_filtered <- measure_ranges_filtered |>
dplyr::group_by(ESP_CAT, SEXO) |>
dplyr::mutate(TOTAL_TALLAS = dplyr::n_distinct(TALLA)) |>
measure_ranges_filtered_one_centimeter <- measure_ranges_filtered[measure_ranges_filtered$TOTAL_TALLAS == "1", ]
measure_ranges_filtered <- measure_ranges_filtered |>
dplyr::group_by(ESP_CAT, SEXO) |>
dplyr::mutate(TOTAL_TALLAS = dplyr::n_distinct(TALLA)) |>
measure_ranges_filtered$TOTAL_TALLAS <- as.numeric(measure_ranges_filtered$TOTAL_TALLAS)
measure_ranges_filtered <- measure_ranges_filtered |>
dplyr::group_by(ESP_CAT, SEXO) |>
dplyr::mutate(TOTAL_TALLAS = dplyr::n_distinct(TALLA)) |>
measure_ranges_filtered$TOTAL_TALLAS <- as.character(measure_ranges_filtered$TOTAL_TALLAS)
measure_ranges_filtered_one_centimeter <- measure_ranges_filtered[measure_ranges_filtered$TOTAL_TALLAS == 1,
c("COD_ESP_CAT", "TOTAL_TALLAS")]
View(measure_ranges_filtered_one_centimeter)
vec_measure_ranges_filtered_one_centimeter <- unique(measure_ranges_filtered_one_centimeter$COD_ESP_CAT)
measure_ranges_filtered_one_centimeter <- measure_ranges_filtered[measure_ranges_filtered$TOTAL_TALLAS == 1,
c("COD_ESP_CAT", "TOTAL_TALLAS")]
print(vec_measure_ranges_filtered_one_centimeter)
measure_ranges_filtered_one_centimeter <- measure_ranges_filtered[measure_ranges_filtered$TOTAL_TALLAS == 1,
c("COD_ESP_CAT", "TOTAL_TALLAS")]
measure_ranges_filtered_one_centimeter$TOTAL_TALLAS <- as.numeric(measure_ranges_filtered_one_centimeter$TOTAL_TALLAS)
vec_measure_ranges_filtered_one_centimeter <- unique(as.character(measure_ranges_filtered_one_centimeter$COD_ESP_CAT))
one_measure_specie <- unique(as.character(measure_ranges_filtered_one_centimeter$COD_ESP_CAT))
measure_ranges_filtered <- measure_ranges_filtered[measure_ranges_filtered$COD_ESP_CAT != one_measure_specie, ]
data_source <- paste0(getwd(), "/data/")
result_directory <- "results"
#Import the work files
measure_ranges <- readRDS(paste0(data_source,
"rim_lengths_2019_2023.rds"))
fishing_environment <- read.table(file = paste0(data_source,"caladero.csv"),
head = TRUE,
sep = ";",
fill = TRUE,
colClasses = c("character", "factor", "character"))
#### b) Add the variable "CALADERO" to the "measure_ranges" df ####
measure_ranges <- merge(measure_ranges,
fishing_environment[, c("CALADERO", "COD_ORIGEN")],
by = "COD_ORIGEN",
all.x = TRUE)
fishing_grounds <- unique(measure_ranges$CALADERO)
fishing_grounds <- fishing_grounds[!is.na(fishing_grounds)]
plotter_function <- function(fishing_ground,
measure_ranges,
result_directory,
ver = "alfa",
discarded_sizes = NA){
measure_ranges <- as.data.frame(measure_ranges)
fishing_ground <- as.character(as.vector(fishing_ground))
measure_ranges_filtered <- measure_ranges[measure_ranges$CALADERO == caladero &
measure_ranges$PROCEDENCIA == "IEO",
c("COD_ESP_CAT", "ESP_CAT", "SEXO", "TALLA")]
measure_ranges_filtered <- measure_ranges_filtered[!is.na(measure_ranges_filtered$TALLA), ]
measure_ranges_filtered <- measure_ranges_filtered |>
dplyr::group_by(ESP_CAT, SEXO) |>
dplyr::mutate(TOTAL_TALLAS = dplyr::n_distinct(TALLA))
measure_ranges_filtered_one_measure <- measure_ranges_filtered[measure_ranges_filtered$TOTAL_TALLAS == 1,
c("COD_ESP_CAT", "TOTAL_TALLAS")]
one_measure_specie <- unique(as.character(measure_ranges_filtered_one_measure$COD_ESP_CAT))
measure_ranges_filtered <- measure_ranges_filtered[measure_ranges_filtered$COD_ESP_CAT != one_measure_specie,
c("COD_ESP_CAT", "ESP_CAT", "SEXO", "TALLA")]
measure_ranges_filtered$ESP_CAT <- paste0(measure_ranges_filtered$ESP_CAT,
"-",
measure_ranges_filtered$SEXO)
if (is.data.frame(discarded_sizes) && nrow(discarded_sizes) > 0) {
discarded_sizes[discarded_sizes$CALADERO==fishing_ground, ]
discarded_sizes$CALADERO <- NA
measure_ranges_filtered$ESP_CAT <- paste0(measure_ranges_filtered$ESP_CAT, "_", measure_ranges_filtered$TALLA)
discarded_sizes$ESP_CAT <- paste0(discarded_sizes$ESP_CAT, "_", discarded_sizes$TALLA)
measure_ranges_filtered <- measure_ranges_filtered[!(measure_ranges_filtered$ESP_CAT %in% discarded_sizes$ESP_CAT), ]
measure_ranges_filtered <- measure_ranges_filtered |> tidyr::separate(col = ESP_CAT,
into = c("ESP_CAT", "TALLA"),
sep = "_")
measure_ranges_filtered$TALLA <- as.numeric(measure_ranges_filtered$TALLA)
}
plot <- ggplot2::ggplot(data = measure_ranges_filtered, ggplot2::aes(x = ESP_CAT, y = TALLA)) +
ggplot2::stat_boxplot(geom = "errorbar", width = 0.5) +
ggplot2::geom_boxplot(fill = "#4271AE", outlier.colour = "red", alpha = 0.9) +
ggplot2::theme(axis.text.x = ggplot2::element_text(angle = 90, vjust = 0.5, hjust = 1)) +
ggplot2::ggtitle(paste0("Distribuci贸n tallas caladero ", fishing_ground))
p <- plotly::ggplotly(plot)
htmlwidgets::saveWidget(
p,
paste0(
getwd(),
"/",
result_directory,
"/grafico_interactivo_tallas_",
ver,
"_",
fishing_ground,
".html"
)
)
}
lista_fishing_grounds <- as.list(fishing_grounds)
lapply(lista_fishing_grounds,
plotter_function,
measure_ranges,
result_directory)
plotter_function <- function(fishing_ground,
measure_ranges,
result_directory,
ver = "alfa",
discarded_sizes = NA){
measure_ranges <- as.data.frame(measure_ranges)
fishing_ground <- as.character(as.vector(fishing_ground))
measure_ranges_filtered <- measure_ranges[measure_ranges$CALADERO == fishing_ground &
measure_ranges$PROCEDENCIA == "IEO",
c("COD_ESP_CAT", "ESP_CAT", "SEXO", "TALLA")]
measure_ranges_filtered <- measure_ranges_filtered[!is.na(measure_ranges_filtered$TALLA), ]
measure_ranges_filtered <- measure_ranges_filtered |>
dplyr::group_by(ESP_CAT, SEXO) |>
dplyr::mutate(TOTAL_TALLAS = dplyr::n_distinct(TALLA))
measure_ranges_filtered_one_measure <- measure_ranges_filtered[measure_ranges_filtered$TOTAL_TALLAS == 1,
c("COD_ESP_CAT", "TOTAL_TALLAS")]
one_measure_specie <- unique(as.character(measure_ranges_filtered_one_measure$COD_ESP_CAT))
measure_ranges_filtered <- measure_ranges_filtered[measure_ranges_filtered$COD_ESP_CAT != one_measure_specie,
c("COD_ESP_CAT", "ESP_CAT", "SEXO", "TALLA")]
measure_ranges_filtered$ESP_CAT <- paste0(measure_ranges_filtered$ESP_CAT,
"-",
measure_ranges_filtered$SEXO)
if (is.data.frame(discarded_sizes) && nrow(discarded_sizes) > 0) {
discarded_sizes[discarded_sizes$CALADERO==fishing_ground, ]
discarded_sizes$CALADERO <- NA
measure_ranges_filtered$ESP_CAT <- paste0(measure_ranges_filtered$ESP_CAT, "_", measure_ranges_filtered$TALLA)
discarded_sizes$ESP_CAT <- paste0(discarded_sizes$ESP_CAT, "_", discarded_sizes$TALLA)
measure_ranges_filtered <- measure_ranges_filtered[!(measure_ranges_filtered$ESP_CAT %in% discarded_sizes$ESP_CAT), ]
measure_ranges_filtered <- measure_ranges_filtered |> tidyr::separate(col = ESP_CAT,
into = c("ESP_CAT", "TALLA"),
sep = "_")
measure_ranges_filtered$TALLA <- as.numeric(measure_ranges_filtered$TALLA)
}
plot <- ggplot2::ggplot(data = measure_ranges_filtered, ggplot2::aes(x = ESP_CAT, y = TALLA)) +
ggplot2::stat_boxplot(geom = "errorbar", width = 0.5) +
ggplot2::geom_boxplot(fill = "#4271AE", outlier.colour = "red", alpha = 0.9) +
ggplot2::theme(axis.text.x = ggplot2::element_text(angle = 90, vjust = 0.5, hjust = 1)) +
ggplot2::ggtitle(paste0("Distribuci贸n tallas caladero ", fishing_ground))
p <- plotly::ggplotly(plot)
htmlwidgets::saveWidget(
p,
paste0(
getwd(),
"/",
result_directory,
"/grafico_interactivo_tallas_",
ver,
"_",
fishing_ground,
".html"
)
)
}
lapply(lista_fishing_grounds,
plotter_function,
measure_ranges,
result_directory)
plotter_function <- function(fishing_ground,
measure_ranges,
result_directory,
ver = "alfa",
discarded_sizes = NA){
measure_ranges <- as.data.frame(measure_ranges)
fishing_ground <- as.character(as.vector(fishing_ground))
measure_ranges_filtered <- measure_ranges[measure_ranges$CALADERO == fishing_ground &
measure_ranges$PROCEDENCIA == "IEO",
c("COD_ESP_CAT", "ESP_CAT", "SEXO", "TALLA")]
measure_ranges_filtered <- measure_ranges_filtered[!is.na(measure_ranges_filtered$TALLA), ]
measure_ranges_filtered <- measure_ranges_filtered |>
dplyr::group_by(ESP_CAT, SEXO) |>
dplyr::mutate(TOTAL_TALLAS = dplyr::n_distinct(TALLA))
measure_ranges_filtered_one_measure <- measure_ranges_filtered[measure_ranges_filtered$TOTAL_TALLAS == 1,
c("COD_ESP_CAT", "TOTAL_TALLAS")]
one_measure_specie <- unique(as.character(measure_ranges_filtered_one_measure$COD_ESP_CAT))
measure_ranges_filtered <- measure_ranges_filtered[!(measure_ranges_filtered$COD_ESP_CAT %in% one_measure_specie),
c("COD_ESP_CAT", "ESP_CAT", "SEXO", "TALLA")]
measure_ranges_filtered$ESP_CAT <- paste0(measure_ranges_filtered$ESP_CAT,
"-",
measure_ranges_filtered$SEXO)
if (is.data.frame(discarded_sizes) && nrow(discarded_sizes) > 0) {
discarded_sizes[discarded_sizes$CALADERO==fishing_ground, ]
discarded_sizes$CALADERO <- NA
measure_ranges_filtered$ESP_CAT <- paste0(measure_ranges_filtered$ESP_CAT, "_", measure_ranges_filtered$TALLA)
discarded_sizes$ESP_CAT <- paste0(discarded_sizes$ESP_CAT, "_", discarded_sizes$TALLA)
measure_ranges_filtered <- measure_ranges_filtered[!(measure_ranges_filtered$ESP_CAT %in% discarded_sizes$ESP_CAT), ]
measure_ranges_filtered <- measure_ranges_filtered |> tidyr::separate(col = ESP_CAT,
into = c("ESP_CAT", "TALLA"),
sep = "_")
measure_ranges_filtered$TALLA <- as.numeric(measure_ranges_filtered$TALLA)
}
plot <- ggplot2::ggplot(data = measure_ranges_filtered, ggplot2::aes(x = ESP_CAT, y = TALLA)) +
ggplot2::stat_boxplot(geom = "errorbar", width = 0.5) +
ggplot2::geom_boxplot(fill = "#4271AE", outlier.colour = "red", alpha = 0.9) +
ggplot2::theme(axis.text.x = ggplot2::element_text(angle = 90, vjust = 0.5, hjust = 1)) +
ggplot2::ggtitle(paste0("Distribuci贸n tallas caladero ", fishing_ground))
p <- plotly::ggplotly(plot)
htmlwidgets::saveWidget(
p,
paste0(
getwd(),
"/",
result_directory,
"/grafico_interactivo_tallas_",
ver,
"_",
fishing_ground,
".html"
)
)
}
lapply(lista_fishing_grounds,
plotter_function,
measure_ranges,
result_directory)
lapply(lista_fishing_grounds,
plotter_function,
measure_ranges,
result_directory)
specie_sargus <- data.frame(ESP_CAT = c("Diplodus sargus-U"),
TALLA = c(40))
specie_fullonica <- data.frame(ESP_CAT = c("Leucoraja fullonica-M"),
TALLA = c(43))
specie_naevus_m <- data.frame(ESP_CAT = c("Leucoraja naevus-M"),
TALLA = c(82))
specie_naevus_h <- data.frame(ESP_CAT = c("Leucoraja naevus-H"),
TALLA = c(35:37, 82))
specie_loligo_spp <- data.frame(ESP_CAT = c("Loligo spp-U"),
TALLA = c(38, 46))
specie_loligo_vulgaris <- data.frame(ESP_CAT = c("Loligo vulgaris-U"),
TALLA = c(46))
specie_lepturus <- data.frame(ESP_CAT = c("Trichiurus lepturus-U"),
TALLA = c(132))
discarded_sizes_ac <- rbind(specie_sargus, specie_fullonica, specie_naevus_m,
specie_loligo_spp, specie_loligo_vulgaris,
specie_lepturus)
discarded_sizes_ac$CALADERO <- "AC"
##### Fishing Ground: CN #####
specie_carbo_cn <- data.frame(ESP_CAT = c("Aphanopus carbo-U"),
TALLA = c(185))
specie_capriscus_cn <- data.frame(ESP_CAT = c("Balistes capriscus-U"),
TALLA = c(83, 89))
specie_cancer_cn <- data.frame(ESP_CAT = c("Cancer pagurus-U"),
TALLA = c(1.5))
specie_dentex_cn <- data.frame(ESP_CAT = c("Dentex dentex-U"),
TALLA = c(88))
specie_labrax_cn <- data.frame(ESP_CAT = c("Dicentrarchus labrax-U"),
TALLA = c(1))
specie_atlanticus_cn <- data.frame(ESP_CAT = c("Hoplostethus atlanticus-M"),
TALLA = c(42))
specie_octopus_cn <- data.frame(ESP_CAT = c("Octopus vulgaris-U"),
TALLA = c(56))
specie_scophthalmus_cn <- data.frame(ESP_CAT = c("Scophthalmus maximus-U"),
TALLA = c(5))
discarded_sizes_gc <- rbind(specie_carbo_cn, specie_capriscus_cn,
specie_cancer_cn, specie_dentex_cn,
specie_labrax_cn, specie_atlanticus_cn,
specie_octopus_cn, specie_scophthalmus_cn)
discarded_sizes_cn$CALADERO <- "CN"
discarded_sizes_cn <- rbind(specie_carbo_cn, specie_capriscus_cn,
specie_cancer_cn, specie_dentex_cn,
specie_labrax_cn, specie_atlanticus_cn,
specie_octopus_cn, specie_scophthalmus_cn)
discarded_sizes_cn$CALADERO <- "CN"
discarded_sizes_gc <- rbind(specie_caudatus_gc, specie_surmuletus_gc,
specie_umbra_gc, specie_minutus_gc,
discarded_sizes_gc)
discarded_sizes <- rbind(discarded_sizes_ac,
discarded_sizes_cn,
discarded_sizes_gc)
lapply(lista_fishing_grounds, function(fg) {
plotter_function(fg, measure_ranges, result_directory, "betha", discarded_sizes)
})
discarded_sizes <- rbind(discarded_sizes_ac,
discarded_sizes_cn,
discarded_sizes_gc)
discarded_sizes_cn$CALADERO <- "CN"
specie_sargus <- data.frame(ESP_CAT = c("Diplodus sargus-U"),
TALLA = c(40))
specie_fullonica <- data.frame(ESP_CAT = c("Leucoraja fullonica-M"),
TALLA = c(43))
specie_naevus_m <- data.frame(ESP_CAT = c("Leucoraja naevus-M"),
TALLA = c(82))
specie_naevus_h <- data.frame(ESP_CAT = c("Leucoraja naevus-H"),
TALLA = c(35:37, 82))
specie_loligo_spp <- data.frame(ESP_CAT = c("Loligo spp-U"),
TALLA = c(38, 46))
specie_loligo_vulgaris <- data.frame(ESP_CAT = c("Loligo vulgaris-U"),
TALLA = c(46))
specie_lepturus <- data.frame(ESP_CAT = c("Trichiurus lepturus-U"),
TALLA = c(132))
discarded_sizes_ac <- rbind(specie_sargus, specie_fullonica, specie_naevus_m,
specie_naevus_h, specie_loligo_spp,
specie_loligo_vulgaris, specie_lepturus)
discarded_sizes_ac$CALADERO <- "AC"
##### Fishing Ground: CN #####
specie_carbo_cn <- data.frame(ESP_CAT = c("Aphanopus carbo-U"),
TALLA = c(185))
specie_capriscus_cn <- data.frame(ESP_CAT = c("Balistes capriscus-U"),
TALLA = c(83, 89))
specie_cancer_cn <- data.frame(ESP_CAT = c("Cancer pagurus-U"),
TALLA = c(1.5))
specie_dentex_cn <- data.frame(ESP_CAT = c("Dentex dentex-U"),
TALLA = c(88))
specie_labrax_cn <- data.frame(ESP_CAT = c("Dicentrarchus labrax-U"),
TALLA = c(1))
specie_atlanticus_cn <- data.frame(ESP_CAT = c("Hoplostethus atlanticus-M"),
TALLA = c(42))
specie_octopus_cn <- data.frame(ESP_CAT = c("Octopus vulgaris-U"),
TALLA = c(56))
specie_scophthalmus_cn <- data.frame(ESP_CAT = c("Scophthalmus maximus-U"),
TALLA = c(5))
discarded_sizes_cn <- rbind(specie_carbo_cn, specie_capriscus_cn,
specie_cancer_cn, specie_dentex_cn,
specie_labrax_cn, specie_atlanticus_cn,
specie_octopus_cn, specie_scophthalmus_cn)
discarded_sizes_cn$CALADERO <- "CN"
##### Fishing Ground: GC #####
specie_encrasicolus_gc <- data.frame(ESP_CAT = c("Engraulis encrasicolus-U"),
TALLA = c(0.95, 1.00, 1.05,
1.10, 1.15, 1.20, 1.25))
specie_caudatus_gc <- data.frame(ESP_CAT = c("Lepidopus caudatus-U"),
TALLA = c(60))
specie_surmuletus_gc <- data.frame(ESP_CAT = c("Mullus surmuletus-U"),
TALLA = c(2, 3))
specie_umbra_gc <- data.frame(ESP_CAT = c("Sciaena umbra-U"),
TALLA = c(67))
specie_minutus_gc <- data.frame(ESP_CAT = c("Trisopterus luscus-U"),
TALLA = c(51))
discarded_sizes_gc <- rbind(specie_caudatus_gc, specie_surmuletus_gc,
specie_umbra_gc, specie_minutus_gc,
discarded_sizes_gc)
discarded_sizes_gc$CALADERO <- "GC"
discarded_sizes <- rbind(discarded_sizes_ac,
discarded_sizes_cn,
discarded_sizes_gc)
lapply(lista_fishing_grounds, function(fg) {
plotter_function(fg, measure_ranges, result_directory, "betha", discarded_sizes)
})
View(discarded_sizes)
specie_encrasicolus_gc <- data.frame(ESP_CAT = c("Engraulis encrasicolus-U"),
TALLA = c(0.95, 1.00, 1.05,
1.10, 1.15, 1.20, 1.25))
specie_caudatus_gc <- data.frame(ESP_CAT = c("Lepidopus caudatus-U"),
TALLA = c(60))
specie_surmuletus_gc <- data.frame(ESP_CAT = c("Mullus surmuletus-U"),
TALLA = c(2, 3))
specie_umbra_gc <- data.frame(ESP_CAT = c("Sciaena umbra-U"),
TALLA = c(67))
specie_minutus_gc <- data.frame(ESP_CAT = c("Trisopterus luscus-U"),
TALLA = c(51))
discarded_sizes_gc <- rbind(specie_caudatus_gc, specie_surmuletus_gc,
specie_umbra_gc, specie_minutus_gc,
specie_encrasicolus_gc)
discarded_sizes <- rbind(discarded_sizes_ac,
discarded_sizes_cn,
discarded_sizes_gc)
discarded_sizes_gc$CALADERO <- "GC"
discarded_sizes <- rbind(discarded_sizes_ac,
discarded_sizes_cn,
discarded_sizes_gc)
lapply(lista_fishing_grounds, function(fg) {
plotter_function(fg, measure_ranges, result_directory, "betha", discarded_sizes)
})
View(discarded_sizes_cn)
View(measure_ranges)
measure_ranges[(measure_ranges$ESP_cAT == "Cancer pagurus" & measure_ranges$CALADERO == "CN"), ]
measure_ranges[(measure_ranges$ESP_cAT == "Cancer pagurus" && measure_ranges$CALADERO == "CN"), ]
measure_ranges[(measure_ranges$ESP_cAT == "Cancer pagurus"), ]
measure_ranges[(measure_ranges$ESP_CAT == "Cancer pagurus"), ]
octopus_files_cn <- measure_ranges[(measure_ranges$ESP_CAT == "Octopus vulgaris" & measure_ranges$CALADERO=="CN"), ]
View(octopus_files_cn)
octopus_files_cn <- measure_ranges[(measure_ranges$ESP_CAT == "Octopus vulgaris" & measure_ranges$CALADERO=="CN" & measure_ranges$TALLA==1.6), ]
View(octopus_files_cn)
octopus_files_gc <- measure_ranges[(measure_ranges$ESP_CAT == "Octopus vulgaris" & measure_ranges$CALADERO=="GC" & measure_ranges$TALLA==3), ]
View(octopus_files_gc)
